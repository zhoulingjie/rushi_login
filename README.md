## 用户登录系统设计说明

### 1. 安全性设计
- **密码存储**：使用bcrypt强哈希算法加密存储
- **暴力破解防护**：Redis记录登录失败次数，5次失败后锁定5分钟
- **SQL注入防护**：使用SQLAlchemy ORM进行参数化查询
- **会话安全**：Flask-Login管理会话，Cookie设置Secure/HttpOnly

### 2. 权限验证便捷性
- 采用装饰器模式实现权限验证（`@role_required('admin')`）
- 与Flask原生路由系统无缝集成
- 可扩展支持多种角色和权限组合

### 3. 性能与扩展性
- **数据库优化**：用户表username字段建立唯一索引
- **缓存机制**：使用Redis缓存登录尝试次数和会话数据
- **模块化设计**：
  - 认证逻辑与业务逻辑解耦
  - 配置系统支持多环境扩展

### 4. 技术栈选择
- **Flask**：轻量灵活，适合快速构建API服务
- **SQLAlchemy**：企业级ORM，支持多种数据库
- **Redis**：高性能缓存，实现登录限制功能
- **Passlib**：提供密码哈希的安全实现
- **Flask-Login**：成熟的会话管理解决方案